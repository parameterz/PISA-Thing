<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR PISA Thing</title>
    <link rel="stylesheet" type="text/css" href="style.css" >
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

    <p>This tool was designed to help demonstrate the relationships between MR PISA measurement variables and 
        the calculated effective regurgitant orifice area (EROA) and regurgitant volume (RVol). 
    </p>
    <p>Adjust these values:</p>
    <div class="column-container">
        <div class="column">
            <label for="vtiSlider">MR VTI (cm):</label>
            <div id="vtiContainer" class="vertical-slider-container">
                <input type="range" id="vtiSlider" class="vertical-slider" min="0" max="300" step="1" value="150">
                <span class="rangeVal" id="vtiValue">150</span>
            </div>
            <p>This determines the RVol calculation.</p>
        </div>  
        <div class="column">
            <label for="velocitySlider">MR peak velocity (cm/sec):</label>
            <div id="velocityContainer" class="vertical-slider-container">
                <input type="range" id="velocitySlider" class="vertical-slider" min="0" max="1000" step="1" value="500">
                <span class="rangeVal" id="velocityValue">500</span>
            </div>
            <p>This determines the EROA- which affects the RVol calculations.</p>
        </div>
        <div class="column">
            <label for="scaleSlider">Aliasing velocity ("V<sub>a</sub>"; cm/sec):</label>
            <div id="scaleContainer" class="vertical-slider-container">
                <input type="range" id="scaleSlider" class="vertical-slider" min="0" max="100" step="1" value="40">
                <span class="rangeVal" id="scaleValue">40</span>
            </div>
            <p>This determines the shell flow- which affects the EROA & RVol calculations.</p>
        </div>  
        <div class="column">
            <label for="radiusSlider">Radius of the hemisphere (cm):</label>
            <div id="radiusContainer" class="vertical-slider-container">
                <input type="range" id="radiusSlider" class="vertical-slider" min="0" max="100" step="1" value="50">
                <span class="rangeVal" id="radiusValue">50</span>
            </div>
            <canvas id="hemisphereCanvas" width="200" height="200"></canvas>
            <p>This determines the shell area- which affects ...everything!</p>

        </div>

    </div>
    <div>
        <h3>Shell area: <span id="shellArea"></span> cm<sup>2</sup></h3>
        <h3>Shell flow: <span id="shellFlow"></span> ml/sec</h3>
        <h2>EROA: <span id="eroa"></span> cm<sup>2</sup> (<span id="severity"></span>)</h2>
        <h2>RVol: <span id="rvol"></span> ml (<span id="rvolSeverity"></span>)</h2>
        <hr/>
        <h4>Notes:</h4>
        <p>The shell area is calculated as 2 * pi * radius squared;</p>
        <p>The shell flow is calculated as shell area * v<sub>a</sub>;</p>
        <p>The EROA is calculated as shell flow &div; MR velocity;</p>
        <p>The regurgitant volume (RVol) is calculated as EROA * MR VTI;</p>

    </div>
    
    <script src="script.js"></script>
</body>
</html>
